# معماری BugsBuzzy Frontend

## نمای کلی

این پروژه با معماری "لانهٔ خرگوش" (Rabbit Hole) طراحی شده که از CSS Scroll Snap برای ایجاد تجربه‌ای گیم‌لایک استفاده می‌کند.

## ساختار اصلی

### 1. دنیای بازی (Game World) - Route: `/`

صفحهٔ اصلی با ۵ "طبقه" (Floor) که با اسکرول عمودی قابل دسترسی هستند:

- **طبقه ۰ - لندینگ** (`LandingFloor.tsx`)
  - UI جنگلی با لوگو و دکمهٔ ثبت‌نام
  - آیکون راهنمای اسکرول

- **طبقه ۱ - رقابت‌ها** (`CompetitionsFloor.tsx`)
  - نمایش دو نوع رقابت: حضوری و گیم‌جم مجازی
  - مودال جزئیات برای هر رقابت

- **طبقه ۲ - کارگاه‌ها** (`WorkshopsFloor.tsx`)
  - نمایش کارگاه‌های مختلف
  - سیستم ثبت‌نام با بررسی وضعیت تایید کاربر

- **طبقه ۳ - حامیان** (`SponsorsFloor.tsx`)
  - نمایش لوگوی حامیان

- **طبقه ۴ - تیم اجرایی** (`TeamFloor.tsx`)
  - معرفی اعضای تیم

### 2. HUD (Head-Up Display)

کامپوننت ثابت روی صفحهٔ اصلی:

- **منوی سفر سریع** (Fast Travel)
  - دکمه‌های عمودی برای جهش به هر طبقه
  - اسکرول نرم (Smooth Scroll)

- **بخش احراز هویت**
  - قبل از لاگین: دکمهٔ "ورود / ثبت‌نام"
  - بعد از لاگین: دکمهٔ "پنل کاربری" با آیکون

### 3. سیستم احراز هویت Passwordless

فلوی دو مرحله‌ای در مودال:

1. **مرحله ۱**: دریافت ایمیل
2. **مرحله ۲**: وارد کردن کد ۶ رقمی

### 4. پنل کاربری - Route: `/panel`

صفحهٔ مجزا با Protected Route:

#### Sidebar

- لینک به پروفایل (همیشه فعال)
- لینک به کارگاه‌های من (نیاز به تایید)
- لینک به تیم من (نیاز به تایید)
- دکمهٔ بازگشت به بازی
- دکمهٔ خروج

#### Nested Routes

- `/panel/profile` - تنظیمات پروفایل
- `/panel/workshops` - کارگاه‌های ثبت‌نام شده
- `/panel/team` - مدیریت تیم

## منطق Validation

کاربران با `is_validated: false` محدودیت‌های زیر را دارند:

1. **در پنل**:
   - دسترسی به پروفایل (همیشه)
   - عدم دسترسی به کارگاه‌ها و تیم (قفل)

2. **در دنیای بازی**:
   - امکان مشاهده همه‌چیز
   - عدم امکان ثبت‌نام در کارگاه‌ها
   - نمایش Pop-up هدایت به پنل

## فایل‌های کلیدی

### Components

- `HUD.tsx` - رابط کاربری ثابت
- `ProtectedRoute.tsx` - محافظت از روت‌ها
- `modals/PixelModal.tsx` - مودال پایه پیکسلی
- `modals/LoginModal.tsx` - فلوی ورود
- `floors/*` - کامپوننت‌های ۵ طبقه

### Pages

- `GameWorld.tsx` - کانتینر اصلی با scroll-snap
- `Panel.tsx` - Layout پنل
- `panel/ProfileSettings.tsx` - ویرایش پروفایل
- `panel/MyWorkshops.tsx` - لیست کارگاه‌ها
- `panel/MyTeam.tsx` - مدیریت تیم

### Context

- `AuthContext.tsx` - مدیریت استیت کاربر

### Styles

- `gameworld.css` - استایل‌های scroll-snap
- `pixel.css` - استایل‌های پیکسلی (دکمه، کارت، فونت)

## نحوهٔ اجرا

```bash
# نصب وابستگی‌ها
npm install

# اجرا در حالت توسعه
npm run dev

# بیلد پروداکشن
npm run build
```

## نکات مهم

1. **CSS Scroll Snap**: تمام طبقات با `scroll-snap-align: start` چسبیده‌اند
2. **Pixel Font**: از فونت "Press Start 2P" استفاده می‌شود
3. **RTL Support**: سایت برای زبان فارسی طراحی شده
4. **Responsive**: طراحی واکنش‌گرا برای موبایل و دسکتاپ
